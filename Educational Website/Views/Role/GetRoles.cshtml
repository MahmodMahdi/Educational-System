@using Microsoft.AspNetCore.Identity
@model List<IdentityRole>
@{
	ViewData["Title"] = "Index";
	var role = Model;
	Layout = "MyLayout";
}
<hr />
<h2 class="text-center" id="#">@role.Count Roles</h2>
<hr>
@if (!Model.Any())
{
	<div class="alert alert-warning">Nothing added yet!</div> 	@if (User.IsInRole("Admin"))
	{
		<div class="text-center ">
			<a asp-controller="Role" asp-action="New" class="bi bi-pen btn btn-success">Add new Role</a>
		</div>
	}
}
else
{
	<div class="container-xl">
		<div class="table-responsive">
			<div class="table-wrapper">
				<table class="table table-hover  table-bordered m-4 fw-bold table-striped" id="pagination_example" style="background-color:lightgray">
					<tr style="border-bottom:3px">
						<th colspan="2"> <h2 style="color:darkred">Manage Roles</h2></th>
						<th>
							@if (User.IsInRole("Admin"))
							{
								<div class="text-center">
									<a asp-controller="Role" asp-action="Search" class="btn fw-bold btn-outline-dark">Search</a>
									<a asp-controller="Role" asp-action="New" class="bi bi-pen btn btn-success">Add New Role</a>
								</div>
							}
						</th>
					</tr>
					<tr style="font-size:22px">
						<th class="text-center">#</th>
						<th class="text-center">Name</th>
					</tr>
					@for (int i = 0; i < role.Count; i++)
					{
						<tr class="text-center"> 
							<td>@(i + 1)</td>
							<td>@(role[i]?.Name)</td>
							<td>
								@if (User.IsInRole("Admin"))
								{
									<a asp-controller="Role" asp-action="Delete" asp-route-id="@role[i].Id" class="bi bi-trash btn btn-danger btn-sm" aria-hidden="true" onclick="return confirm('Are you Sure to Delete ?')">Delete</a>
								}
							</td>
						</tr>
					}
				</table>
			</div>
		</div>
	</div>
	<br />
}
