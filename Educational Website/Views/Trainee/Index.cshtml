@model List<Trainee>
@{
	ViewData["Title"] = "Index";
	var Trainee = Model;
	Layout = "_Layout4";
}
@if (!Model.Any())
{
	<div class="alert alert-warning">Nothing added yet!</div>
	@if (User.IsInRole("Admin"))
	{
		<div class="text-center"><a asp-action="Add" class="bi bi-pen btn btn-success">Add new Trainee</a></div>
	}
}
else
{
	<div class="container-xl">
		<div class="table-responsive">
			<div class="table-wrapper">

				<table class="table table-hover  table-bordered m-4 fw-bold table-striped">
					@if (User.IsInRole("Admin"))
					{
						<tr style="background-color:lightgray;">
							<th colspan="2"> <h2 style="color:darkred">Manage Trainees</h2></th>
							<th>

								<div class="text-center">
									<a asp-action="Search" class="btn fw-bold btn-outline-dark">Search</a>
									<a asp-action="Add" class="bi bi-pen btn btn-success">Add new Trainee</a>
								</div>

							</th>
						</tr>
					}
					<tr style="border-bottom:3px" class="bg-primary text-white">
						<th class="text-center"><h4>#</h4></th>
						<th class="text-center"><h4>Name</h4></th>
						<th colspan="3" class="text-center"><h4>Action</h4></th>
					</tr>
					@for (int i = 0; i < Trainee.Count; i++)
					{
						<tr class="text-center">
							<td>@(i + 1)</td>
							@*  <td><a asp-controller="CourseResult" asp-action="Results" asp-fragment="#" asp-route-id="@Trainee[i]?.Id">@Trainee[i].Name</a></td>  *@
							 <td style="font-family:Courier New, Courier, monospace">@Trainee[i].Name</td> 
							<td>
								<a asp-action="Details" asp-route-id="@Trainee[i].Id" class="bi bi-tag btn  btn-sm" style="background-color:cornflowerblue">Details</a>
								@if (User.IsInRole("Admin"))
								{
									<a asp-action="Edit" asp-route-id="@Trainee[i].Id" class="bi bi-pencil btn btn-warning btn-sm" aria-hidden="true">Edit</a>
									<a asp-action="Delete" asp-route-id="@Trainee[i].Id" asp-fragment="#" class="bi bi-trash btn btn-danger btn-sm" aria-hidden="true" onclick="return confirm('Are you Sure to delete ?')">Delete</a>
								}
							</td>
						</tr>
					}
				</table>
				@{
					int PrevPageNo = ViewBag.PageNo - 1;
					if (PrevPageNo <= 0)
					{
						PrevPageNo = 1;
					}
					int NextPageNo = ViewBag.PageNo + 1;
					if (NextPageNo > ViewBag.NoOfPages)
					{
						NextPageNo = ViewBag.NoOfPages;
					}
				}
				<ul class="pagination justify-content-center">
					<li class="page-item">
						<a class="page-link"
						   href="/Trainee/index?PageNo=@PrevPageNo">Previous</a>
					</li>
					@for (int j = 0; j < ViewBag.NoOfPages; j++)
					{
						if ((j + 1) == ViewBag.PageNo)
						{
							<li class="page-item active">
								<a class="page-link"
								   href="/Trainee/index?PageNo=@(j+1)">
									@(j + 1)
								</a>
							</li>
						}
						else
						{
							<li class="page-item ">
								<a class="page-link"
								   href="/Trainee/index?PageNo=@(j+1)">
									@(j + 1)
								</a>
							</li>
						}
					}
					<li class="page-item">
						<a class="page-link"
						   href="/Trainee/index?PageNo=@NextPageNo">
							Next
						</a>
					</li>
				</ul>
			</div>
		</div>
	</div>
}